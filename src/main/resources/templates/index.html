<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<head th:replace="~{fragments/head :: head}">
</head>
<body class="bg-light">
<link rel="stylesheet" th:href="@{/css/glider.min.css}">
<script th:src="@{/js/glider.min.js}"></script>

<nav th:replace="~{fragments/navbar :: navbar}"></nav>
<span class="d-none" th:text="${username}" id="username"></span>

<!-- Hero Section -->
<section id="hero" class="p-5 d-flex justify-content-center align-items-center"
         style="background-image: url('/images/bg-4.jpg'); background-size: cover; background-position: center; height: 500px;">
    <div class="text-center text-light">
        <h1 class="display-3 font-weight-bold">Find The Product You Can Trust</h1>
        <p class="h4 font-weight-bold">Real views by real people</p>
        <form class="mt-4">
            <div class="input-group rounded p-3 bg-white">
                <input type="search" class="form-control border-0 borderless" placeholder="Search Product By Name"
                       aria-label="Search Product">
                <button class="btn btn-link ml-2 shadow" aria-label="Search">
                    <i data-feather="search"></i>
                </button>
            </div>
        </form>
    </div>
</section>

<!--Category Slide-->
<section class="container my-5">
    <h2 class="h4 font-weight-bold my-4">What are you looking for?</h2>
    <div class="my_carousel" th:fragment="carousel(slide)">
        <div class="glider-contain">
            <div class="glider">
                <div th:each="item : ${categories}"
                     class="my_carousel-item card d-flex justify-content-center align-items-center p-3">
                    <img th:src="@{'/picture/category/' + ${item.picture}}" alt="category" class="icon img-fluid"/>
                    <a
                            class="text-muted"
                            th:text="${item.name}"
                            style="text-decoration: none;"
                            th:href="@{'/products/by-category?categoryId='+${item.id}}">
                    </a>
                </div>
            </div>
            <button class="glider-prev btn btn-outline-secondary">&laquo;</button>
            <button class="glider-next btn btn-outline-secondary">&raquo;</button>
        </div>
    </div>
</section>


<!-- Call to Action Section -->
<section class="container my-5">
    <div class="row bg-warning text-dark p-4 rounded">
        <div class="col d-flex flex-column justify-content-center align-items-center">
            <h2 class="h2 font-weight-bold text-center">Help thousands make the right choice</h2>
            <p class="h6 mb-2">Share your experience on NPR, where real reviews make a difference.</p>
            <a th:href="@{/oauth2/authorization/google}" class="btn btn-primary text-light my-2">
                <i data-feather="at-sign"></i>
                <span class="ml-2">Continue with Google</span>
            </a>
        </div>
        <div class="col d-flex justify-content-center align-items-center">
            <img th:src="@{'/images/bd product.jpg'}" alt="Bangladeshi product" class="rounded" height="280"
                 width="420"/>
        </div>
    </div>
</section>

<!--Product Slide-->
<section class="container my-5">
    <h2 class="h4 font-weight-bold my-4">Top-rated products?</h2>
    <div class="my_carousel" th:fragment="carousel(slide)">
        <div class="glider-contain">
            <div class="glider">
                <div th:each="item : ${topRatedProduct}"
                     class="my_carousel-item card d-flex justify-content-center align-items-center p-3">
                    <img th:src="@{'/picture/product/' + ${item.picture}}" alt="product" class="icon_md img-fluid"/>
                    <a
                            th:text="${item.name}"
                            class="text-muted"
                            style="text-decoration: none;"
                            th:href="@{'/products/view?productId='+${item.id}}">
                    </a>
                    <span th:text="${item.rating}" class="text-warning"></span>
                </div>
            </div>
            <button class="glider-prev btn btn-outline-secondary">&laquo;</button>
            <button class="glider-next btn btn-outline-secondary">&raquo;</button>
        </div>
    </div>
</section>
<footer th:replace="~{fragments/footer :: footer}"></footer>
</body>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        document.querySelectorAll('.glider').forEach(gliderEl => {
            new Glider(gliderEl, {
                slidesToShow: 3,
                slidesToScroll: 1,
                draggable: true,
                dots: null,
                arrows: {
                    prev: gliderEl.parentElement.querySelector('.glider-prev'),
                    next: gliderEl.parentElement.querySelector('.glider-next')
                },
                responsive: [
                    {
                        breakpoint: 768,
                        settings: {
                            slidesToShow: 6,
                        }
                    },
                    {
                        breakpoint: 576,
                        settings: {
                            slidesToShow: 1,
                        }
                    }
                ]
            });
        });
    });
</script>

</html>
